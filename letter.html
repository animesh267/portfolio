<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My Love Letter ðŸ’Œ</title>

<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">

<style>
body {
    text-align: center;
    padding-top: 8vh;
}

#letterContainer {
    display: none;
    width: 80%;
    margin: 30px auto;
    background: white;
    color: #ff2e88;
    padding: 30px;
    border: 4px solid #ff2e88;
    box-shadow: 0 0 20px pink;
}

.highlight {
    color: red;
}

#continueBtn {
    display: none;
    margin-top: 20px;
}

#secretMsg {
    display: none;
    margin-top: 20px;
    font-size: 0.7rem;
    color: purple;
}
</style>
</head>

<body class="fade-in">

<h1 class="glow">A Letter For You ðŸ’–</h1>

<div class="envelope" id="envelope" onclick="openLetter()">
    <p style="padding-top:80px;">Click To Open ðŸ’Œ</p>
</div>

<div id="letterContainer">
    <p id="typeText" class="typewriter"></p>

    <br>
    <p id="signature"></p>

    <button class="pixel-btn" id="continueBtn" onclick="goToFinale()">
        Continue ðŸ’˜
    </button>

    <p id="secretMsg">ðŸ’Ž Secret: You are my favorite person in every universe.</p>
</div>

<script src="script.js"></script>

<script>
const name = localStorage.getItem("valentineName") || "My Love";
const envelope = document.getElementById("envelope");
const letterContainer = document.getElementById("letterContainer");
const typeText = document.getElementById("typeText");
const signature = document.getElementById("signature");
const continueBtn = document.getElementById("continueBtn");
const secretMsg = document.getElementById("secretMsg");

const letterContent =
`Merii ${name},

 Hie bhondu
 Thanks for taking care of my sensitive ahh heart. i might be annoying some times
 Kbhi kbhi nautanki bhi bohot krta hu, just bear with me pls. Nd kbhi kbhi i do things i shouldnt and
 trust me i still feel guilty for all the fuckups i did from my end.
 I havent loved anyone itna zyada nd i dun want to. All of my love is for u. every ounce of it
 aur na hi kisine mere liye itne efforts daale h. Thanks for stepping in in my life. i feel ao grateful.
 bohot kuch hai bolne ko but abhi im short on time aur mene jo kal raat kra usko compensate krne ke liye this was imp.
 Me soya nhi tha merko gussa aarha tha bas ki tu, u dun do anything about the situation u r in. jo bhi h par kal wasnt the right time to discuss all of that. 
 Sube uthke me itna desperate hogya tha terse baat krne ke liye merse rha nhi gya isliye i called u. i hope that didn't give u any trouble. im really sorry.
 I love my bhondu sm, pls stay wid me frvr, Im so in love with u ramya,Aajkal my motivation to keep grinding with my ass off is u. i want us to do gr8 things together,
 Im so sorry for whatever i did last night. usse pehle ke part me toh merko genuinely bohot bura lga tha but uske baad se i fucked it up again
Baby im so sorrrrrryyyy
LYSSSSSSMMMMMMM
            -Ur aniðŸ«¶
`;

function openLetter() {
    envelope.style.display = "none";
    letterContainer.style.display = "block";

    typeWriter(typeText, letterContent, 40);

    setTimeout(() => {
        signature.innerHTML = "<br><span class='highlight'>With All My Love,</span><br>Yours Forever ðŸ’˜";
        continueBtn.style.display = "inline-block";
    }, 6000);
}

/* Secret Message */
letterContainer.addEventListener("dblclick", () => {
    secretMsg.style.display = "block";
    confettiBurst();
});

/* Go to Finale */
function goToFinale() {
    window.location.href = "finale.html";
}
</script>

</body>
</html>
